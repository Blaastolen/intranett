

[buildout]
extends =
    cfgs/base.cfg

parts =
    mantrid
    mantrid-conf
    supervisor-conf
    supervisor
    supervisor-conf


[mantrid]
recipe = zc.recipe.egg
eggs =
    mantrid


[mantrid-conf]
recipe = collective.recipe.template
input = ${buildout:directory}/templates/mantrid.conf
output = ${buildout:directory}/etc/mantrid.conf
user = ${env:UID}
group = ${env:GID}

[nginx-conf]
recipe = collective.recipe.template
input = ${buildout:directory}/templates/nginx.conf
output = ${buildout:directory}/nginx-sites/jarn.conf
ip-address = ${env:INTRANETT_ZOPE_IP}



[supervisor]
recipe = zc.recipe.egg
eggs =
    supervisor
    superlance

[supervisor-conf]
recipe = collective.recipe.template
input = ${buildout:directory}/templates/supervisord-frontend.conf
output = ${buildout:directory}/etc/supervisord.conf
