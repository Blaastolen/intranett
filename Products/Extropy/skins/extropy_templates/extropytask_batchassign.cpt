<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      i18n:domain="extropy"
      metal:use-macro="here/main_template/macros/master">
  <head>
    <metal:css fill-slot="css_slot">
        <style type="text/css" media="all"
               tal:content="structure string:&lt;!-- @import url($portal_url/extropy.css); --&gt;"></style>
    </metal:css>
  </head>
<body tal:define="errors options/state/getErrors | nothing;
                  Iterator python:modules['Products.Archetypes'].IndexIterator;
                  schematas here/Schemata;
                  fieldsets python:[key for key in schematas.keys() if (key != 'metadata') and (schematas[key].editableFields(here))];
                  default_fieldset python:(not schematas or schematas.has_key('default')) and 'default' or fieldsets[0];
                  fieldset request/fieldset|options/fieldset|default_fieldset;
                  fields python:schematas[fieldset].editableFields(here);
                  dummy python:here.at_isEditable(fields);
                  portal_type python:here.getPortalTypeName().lower().replace(' ', '_');
                  type_name here/getPortalTypeName|here/archetype_name;
                  base_macros here/edit_macros/macros;
                  edit_template python:'%s_edit' % portal_type;
                  edit_macros python:path('here/%s/macros | nothing' % edit_template);
                  header_macro edit_macros/header | header_macro | base_macros/header;
                  typedescription_macro edit_macros/typedescription | typedescription_macro | base_macros/typedescription;
                  body_macro edit_macros/body | body_macro | base_macros/body;
                  footer_macro edit_macros/footer | footer_macro | base_macros/footer;
                  lockable python:hasattr(here, 'wl_isLocked');
                  isLocked python:lockable and here.wl_isLocked();
                  tabindex tabindex|python:Iterator(pos=7000);
                  css python:here.getUniqueWidgetAttr(fields, 'helper_css');
                  js python:here.getUniqueWidgetAttr(fields, 'helper_js');">
             
<div metal:fill-slot="main"
     tal:define="participants here/getParticipants">

    <h1>Batch assignment of tasks</h1>

    <fieldset>
        <legend>Unclaimed tasks (<span tal:replace="">23</span>)</legend>
        
            <ul class="configlets">
                <li tal:repeat="task here/getTasks">
                    <input type="checkbox"
                           class="noborder" />
                    <label tal:content="task/Title">Some task</label>
                </li>
            </ul>
            
            <label>Assign to</label>
            
            <select>
                <option tal:repeat="participant participants"
                        tal:content="participant">
                    Participant
                </option>
            </select>
            
            <input type="submit"
                   class="context" 
                   value="Assign tasks" />

    </fieldset>

</div>

</body>
</html>
