function scanforlinks(){var d,f,b,e,a,c;if(typeof external_links_open_new_window==="string"){d=external_links_open_new_window.toLowerCase()==="true"}else{d=false}if(typeof mark_special_links==="string"){f=mark_special_links.toLowerCase()==="true"}else{f=false}b=window.location.protocol+"//"+window.location.host;if(d){jQuery("a[href^=http]:not(.link-plain):not([href^="+b+"])").attr("target","_blank")}if(f){e=/^(mailto|ftp|news|irc|h323|sip|callto|https|feed|webcal)/;a=jQuery("#region-content,#content");a.find("a[href^=http]:not(.link-plain):not([href^="+b+"]):not(:has(img))").wrap("<span></span>").parent().addClass("link-external");a.find("a[href]:not([href^=http]):not(.link-plain):not([href^="+b+"]):not(:has(img))").each(function(){c=e.exec(this.href);if(c){jQuery(this).wrap("<span></span>").parent().addClass("link-"+c[0])}})}}jQuery(scanforlinks);