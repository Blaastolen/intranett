jQuery(function(b){var j,e,k,f,c,h,g,d,l;j=b("dl.toc dd.portletItem");e=b("#region-content,#content");if(!e||!j.length){return}j.empty();k=window.location.href;if(window.location.hash){k=k.substring(0,k.lastIndexOf(window.location.hash))}f=[];b(e).find("*").not(".comment > h3").filter(function(){return(/^h[1234]$/).test(this.tagName.toLowerCase())}).not(".documentFirstHeading").each(function(o){var p,n,m;p=this.nodeName.charAt(1);while(f.length<p){n=b("<ol>");if(f.length){m=b(f[f.length-1]).children("li:last");if(!m.length){m=b("<li>").appendTo(b(f[f.length-1]))}m.append(n)}f.push(n)}while(f.length>p){f.pop()}b(this).before(b('<a name="section-'+o+'" />'));b("<li>").append(b("<a />").attr("href",k+"#section-"+o).text(b(this).text())).appendTo(b(f[f.length-1]))});if(f.length){b("dl.toc").show();var c=b(f[0]);var a=1;while(c.children("li").length==1){c=b(f[a]);a+=1}h=c.children().length.toString().length;c.addClass("TOC"+h+"Digit");j.append(c);g=window.location.hash;if(g){d=b(g);d=d.length&&d||b("[name="+g.slice(1)+"]");l=d.offset();if(l){b("html,body").animate({scrollTop:l.top},0)}}}});